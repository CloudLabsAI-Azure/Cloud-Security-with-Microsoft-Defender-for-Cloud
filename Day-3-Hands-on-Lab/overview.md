# Hands-on Labs - Day 3

## Defender for DevOps and Advanced Threat Detection

### Estimated Duration: 4 Hours

## Overview

In this lab, you'll dive deeper into advanced cloud security capabilities by securing CI/CD code repositories, leveraging Microsoft Defender External Attack Surface Management (ESAM), utilizing Microsoft Security Copilot for threat analysis, and integrating Defender with Microsoft Sentinel for enhanced alert investigation. You’ll explore how to proactively manage risks across your development pipelines, visualize your external attack surface, gain AI-driven threat intelligence, and effectively triage complex incidents using Sentinel.

## Objective

By the end of this lab, you will be able to:

* **Secure Code Repositories with Microsoft Defender**: Connect GitHub and Azure DevOps repositories to Defender for Cloud, enabling visibility into security risks such as exposed secrets, misconfigurations, and vulnerable dependencies in your pipelines.

* **Deploy and Utilize Microsoft Defender ESAM**: Provision and explore the capabilities of Microsoft Defender External Attack Surface Management (ESAM) to gain visibility into your organization’s internet-facing assets and assess potential exposures.

* **Conduct Threat Analysis with Microsoft Security Copilot**: Use Security Copilot in Azure and the standalone portal to generate threat intelligence, analyze incident data, and gather contextual information on potential attacks.

* **Investigate Alerts with Defender and Sentinel**: Integrate Microsoft Defender for Cloud with Microsoft Sentinel to correlate alerts, visualize attack chains, and automate responses using AI-based insights.

## Prerequisites

Participants should have:

* Working knowledge of Azure security services and resource management
* Familiarity with Azure DevOps and/or GitHub repositories
* Access to Azure subscription and GitHub/Azure DevOps environments with admin or contributor roles
* Basic understanding of Microsoft Sentinel and Log Analytics
* Interest in advanced threat detection, investigation, and remediation workflows


## Explanation of Components

* **Microsoft Defender for DevOps**: Provides visibility into the security posture of GitHub and Azure DevOps repositories. It identifies secrets, misconfigurations, and vulnerabilities in CI/CD pipelines.

* **Microsoft Defender External Attack Surface Management (ESAM)**: Helps security teams discover, monitor, and remediate exposed internet-facing assets to reduce external attack surfaces.

* **Microsoft Security Copilot**: An AI-powered tool designed to assist security analysts in threat detection, investigation, and response using natural language prompts and Microsoft threat intelligence.

* **Microsoft Sentinel Integration**: Sentinel enhances the capabilities of Defender for Cloud by providing a centralized platform for collecting, analyzing, and responding to security data at scale.

* **Security Recommendations and Alerts**: Aggregated insights generated from connected repositories, resources, and threat intelligence, helping prioritize and remediate critical issues.


> ⚠️ **Note**: The **Microsoft Security Copilot** module may incur higher costs due to query-based usage. Consider offering this content in a **read-only walkthrough** or as a **dedicated standalone lab** to manage costs effectively.
